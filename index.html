<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>车棋游戏</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <h1>车棋游戏</h1>
    <p>规则: 您操控一个车(红色)，对方有多种象棋棋子。车可以横竖直线移动，需要避开对方棋子的攻击范围。每回合击杀一个棋子，游戏继续。特殊规则：车吃掉将后，下一步会消除该点所在行列的所有棋子。</p>

    <div class="game-status" id="gameStatus">游戏状态：拖拽棋子可以移动它们。移动后系统会自动计算车的最佳移动位置。</div>

    <div class="board" id="board"></div>

    <div class="mobile-controls" id="mobileControls">
        <p class="mobile-info">提示：在移动设备上，先点击棋子选中，再点击目标位置移动</p>
    </div>

    <details class="collapsible-section" open>
        <summary>添加棋子</summary>
        <div class="input-area">
            <div class="input-grid">
                <div>
                    <label for="pieceType">棋子类型:</label>
                    <select id="pieceType">
                        <option value="pawn">卒</option>
                        <option value="rook">车</option>
                        <option value="knight">马</option>
                        <option value="cannon">炮</option>
                        <option value="bishop">象</option>
                        <option value="advisor">士</option>
                        <option value="king">将</option>
                    </select>
                </div>
                <div>
                    <label for="xCoord">X坐标 (1-8):</label>
                    <input type="number" id="xCoord" min="1" max="8" value="1">
                </div>
                <div>
                    <label for="yCoord">Y坐标 (1-9):</label>
                    <input type="number" id="yCoord" min="1" max="9" value="1">
                </div>
                <div class="button-group">
                    <button class="btn btn-action" id="addPiece">添加棋子</button>
                    <button class="btn btn-danger btn-action" id="toggleDeleteMode">删除棋子</button>
                </div>
            </div>
        </div>
    </details>

    <div class="result-area" id="resultArea">
        <h3>车的最佳移动</h3>
        <p>当前无建议。请添加棋子后计算。</p>
    </div>

    <div class="button-group">
        <button class="btn" id="calculateMove">计算最佳移动</button>
        <button class="btn" id="resetBoard">重置棋盘</button>
    </div>

    <details class="collapsible-section" open>
        <summary>棋局存档</summary>
        <div class="archive-area">
            <div class="input-grid">
                <div>
                    <label for="archiveName">存档名称:</label>
                    <input type="text" id="archiveName" placeholder="输入存档名称">
                </div>
                <div class="button-group">
                    <button class="btn btn-action" id="saveGame">保存当前棋局</button>
                    <button class="btn btn-action" id="loadGameList">查看存档列表</button>
                </div>
            </div>
            <div class="archive-list" id="archiveList" style="display: none;">
                <p>加载中...</p>
            </div>
        </div>
    </details>
    <h3>打赏</h3>
    <div>
        <p>如果你觉得这个对你有帮助，你可以帮作者买一杯咖啡表示支持，创作不易，谢谢老板！❤❤❤</p>
        <p>If you think this project is helpful to you, you can help the author buy a cup of coffee to show your
            support!</p>
        <div class="pay-img">
            <img src="./wechat.jpg" />
            <img src="./alipay.jpg" />
        </div>
    </div>

    <p class="end-page-text">著作权归 街角音20区-角色ID-400004000048417 所有，侵权必究!!!</p>
    <script src="index.js"></script>
    <script>
        // 添加禁用F12和右键菜单的代码
        document.addEventListener('keydown', function (e) {
            // 禁用 F12
            if (e.key === 'F12' || e.keyCode === 123) {
                e.preventDefault();
                return false;
            }

            // 禁用 Ctrl+Shift+I (Chrome开发者工具快捷键)
            if ((e.ctrlKey && e.shiftKey && e.keyCode === 73) ||
                // 禁用 Ctrl+Shift+J (Chrome控制台)
                (e.ctrlKey && e.shiftKey && e.keyCode === 74) ||
                // 禁用 Ctrl+U (查看源代码)
                (e.ctrlKey && e.keyCode === 85)) {
                e.preventDefault();
                return false;
            }
        });

        // 禁用右键菜单
        document.addEventListener('contextmenu', function (e) {
            e.preventDefault();
            return false;
        });
    </script>
</body>

</html>